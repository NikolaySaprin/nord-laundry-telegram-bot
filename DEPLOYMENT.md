# üöÄ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é –±–æ—Ç–∞ –Ω–∞ VPS

## üìç –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –ø–∞–ø–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

**–ü–æ–ª–Ω—ã–π –ø—É—Ç—å –Ω–∞ –≤–∞—à–µ–º Mac:**
```
/Users/nikolajsnv/Desktop/projects/nord/nord-laundry-bot/.wwebjs_auth/
```

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–∫–∏:**
```
.wwebjs_auth/
‚îî‚îÄ‚îÄ session-nord-laundry-whatsapp/
    ‚îú‚îÄ‚îÄ Default/          # –û—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å–µ—Å—Å–∏–∏
    ‚îî‚îÄ‚îÄ DevToolsActivePort
```

## üì¶ –°–æ–∑–¥–∞–Ω–∏–µ –∞—Ä—Ö–∏–≤–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

### –ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ:

1. **–°–æ–∑–¥–∞–π—Ç–µ –∞—Ä—Ö–∏–≤:**
   ```bash
   npm run backup-auth
   ```
   
2. **–ò–ª–∏ –≤—Ä—É—á–Ω—É—é:**
   ```bash
   tar -czf whatsapp_auth_$(date +%Y%m%d_%H%M%S).tar.gz .wwebjs_auth/
   ```

3. **–ê—Ä—Ö–∏–≤ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞:**
   ```
   /Users/nikolajsnv/Desktop/projects/nord/nord-laundry-bot/whatsapp_auth_YYYYMMDD_HHMMSS.tar.gz
   ```

## üåê –ü–µ—Ä–µ–Ω–æ—Å –Ω–∞ VPS —Å–µ—Ä–≤–µ—Ä

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ SCP (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. **–ó–∞–≥—Ä—É–∑–∏—Ç–µ –∞—Ä—Ö–∏–≤ –Ω–∞ VPS:**
   ```bash
   scp whatsapp_auth_YYYYMMDD_HHMMSS.tar.gz user@your-vps-ip:/path/to/your/bot/
   ```

2. **–ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ VPS:**
   ```bash
   ssh user@your-vps-ip
   ```

3. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É –±–æ—Ç–∞:**
   ```bash
   cd /path/to/your/bot/
   ```

4. **–í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é:**
   ```bash
   npm run restore-auth whatsapp_auth_YYYYMMDD_HHMMSS.tar.gz
   ```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ SFTP

1. **–ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å —á–µ—Ä–µ–∑ SFTP:**
   ```bash
   sftp user@your-vps-ip
   ```

2. **–ó–∞–≥—Ä—É–∑–∏—Ç–µ –∞—Ä—Ö–∏–≤:**
   ```bash
   put whatsapp_auth_YYYYMMDD_HHMMSS.tar.gz /path/to/your/bot/
   ```

3. **–í—ã–π–¥–∏—Ç–µ –∏–∑ SFTP:**
   ```bash
   exit
   ```

4. **–ù–∞ VPS –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é:**
   ```bash
   cd /path/to/your/bot/
   npm run restore-auth whatsapp_auth_YYYYMMDD_HHMMSS.tar.gz
   ```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞ VPS

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Node.js —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (–≤–µ—Ä—Å–∏—è 18+)
node --version

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install

# –°–∫–æ–º–ø–∏–ª–∏—Ä—É–π—Ç–µ TypeScript
npm run build
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –Ω–∞ VPS:

```bash
# Telegram Bot
TELEGRAM_BOT_TOKEN=your_telegram_bot_token
TELEGRAM_GROUP_ID=your_telegram_group_id

# WhatsApp (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
WHATSAPP_ENABLED=true
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞ –Ω–∞ –ø–∞–ø–∫—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
chmod -R 755 .wwebjs_auth/
chown -R $USER:$USER .wwebjs_auth/
```

### 4. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

```bash
# –ó–∞–ø—É—Å–∫ –≤ –æ–±—ã—á–Ω–æ–º —Ä–µ–∂–∏–º–µ
npm start

# –ò–ª–∏ –∑–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–µ —Å PM2
npm install -g pm2
pm2 start bot-runner.mjs --name "nord-laundry-bot"
pm2 save
pm2 startup
```

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

```bash
npm run check-auth
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Å—Å–∏–∏

```bash
npm run check-session
```

### 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
npm run test-thanks
```

## üõ†Ô∏è –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–æ—Ç –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑—É–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –û—á–∏—Å—Ç–∏—Ç–µ —Å–µ—Å—Å–∏—é
npm run clear-session

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞ –∑–∞–Ω–æ–≤–æ
npm start

# –û—Ç—Å–∫–∞–Ω–∏—Ä—É–π—Ç–µ QR –∫–æ–¥
```

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞
sudo chown -R $USER:$USER .wwebjs_auth/
chmod -R 755 .wwebjs_auth/
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–æ—Ç –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ TypeScript –∫–æ–º–ø–∏–ª—è—Ü–∏—é
npm run build

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ .env —Ñ–∞–π–ª
cat .env
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏ PM2

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
pm2 logs nord-laundry-bot

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
pm2 monit
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø—É—â–µ–Ω–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
ps aux | grep "node bot-runner"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–æ–≤
netstat -tlnp | grep :3000
```

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –Ω–∞ VPS:

1. **–ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ:**
   ```bash
   npm run backup-auth
   ```

2. **–ó–∞–≥—Ä—É–∑–∏—Ç–µ –Ω–æ–≤—ã–π –∞—Ä—Ö–∏–≤ –Ω–∞ VPS**

3. **–ù–∞ VPS:**
   ```bash
   npm run restore-auth whatsapp_auth_NEW_DATE.tar.gz
   ```

## üí° –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

- **–†–∞–∑–º–µ—Ä –∞—Ä—Ö–∏–≤–∞:** ~26MB (—Å–∂–∞—Ç—ã–π)
- **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –¥–µ–π—Å—Ç–≤—É–µ—Ç:** 10 –ª–µ—Ç
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –ù–µ –ø–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ –∞—Ä—Ö–∏–≤ –ø–æ –Ω–µ–∑–∞—â–∏—â–µ–Ω–Ω—ã–º –∫–∞–Ω–∞–ª–∞–º
- **–†–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏:** –†–µ–≥—É–ª—è—Ä–Ω–æ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –∞—Ä—Ö–∏–≤—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- **–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–∞–ø–∫–∞ `.wwebjs_auth` –¥–æ—Å—Ç—É–ø–Ω–∞ –¥–ª—è –∑–∞–ø–∏—Å–∏

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `npm run check-auth`
2. –û—á–∏—Å—Ç–∏—Ç–µ —Å–µ—Å—Å–∏—é: `npm run clear-session`
3. –ü–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é: `npm start`
4. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∞—Ä—Ö–∏–≤: `npm run backup-auth`

