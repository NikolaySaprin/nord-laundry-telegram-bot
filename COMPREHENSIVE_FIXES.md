# –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã

## –û–±–∑–æ—Ä –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

–ë—ã–ª–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –≤—Å–µ –≤—ã—è–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

1. ‚úÖ **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π WhatsApp** - –ø—Ä–∏—Ö–æ–¥—è—Ç 3 —Å–æ–æ–±—â–µ–Ω–∏—è –≤–º–µ—Å—Ç–æ –æ–¥–Ω–æ–≥–æ
2. ‚úÖ **–ó–∞—è–≤–∫–∏ —Å —Å–∞–π—Ç–∞ –Ω–µ —Å–æ–∑–¥–∞—é—Ç —Ç—Ä–µ–¥—ã** - –ø–∞–¥–∞—é—Ç –≤ general –≤–º–µ—Å—Ç–æ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤—ã—Ö —Ç—Ä–µ–¥–æ–≤  
3. ‚úÖ **–ù–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞—Ä—Ö–∏–≤–∞–º–∏** - —Å–æ–∑–¥–∞—é—Ç—Å—è –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã –≤–º–µ—Å—Ç–æ –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏
4. ‚úÖ **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –Ω–∞ VPS** - –Ω–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∫–∏ –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Å–µ—Å—Å–∏–∏

## –î–µ—Ç–∞–ª—å–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å–ª—É–∂–µ–±–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π WhatsApp

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ WhatsApp –ø—Ä–∏—Ö–æ–¥–∏–ª–∏ 3 —Å–æ–æ–±—â–µ–Ω–∏—è:
- 2 –ø—É—Å—Ç—ã—Ö —Å–ª—É–∂–µ–±–Ω—ã—Ö (`e2e_notification`, `notification_template`)
- 1 —Å —Ç–µ–∫—Å—Ç–æ–º

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –≤ `handleIncomingMessage`:

```typescript
// –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º —Å–ª—É–∂–µ–±–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è WhatsApp
const serviceMessageTypes = [
  'e2e_notification', 'notification_template', 'call_log',
  'system', 'protocol', 'presence', 'read_receipt',
  'revoked', 'ephemeral', 'notification'
];

if (serviceMessageTypes.includes(message.type)) {
  console.log(`‚è≠Ô∏è –ü—Ä–æ–ø—É—Å–∫–∞–µ–º —Å–ª—É–∂–µ–±–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Ç–∏–ø–∞: ${message.type}`);
  return;
}

// –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º –ø—É—Å—Ç—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è (–∫—Ä–æ–º–µ –º–µ–¥–∏–∞)
if (!message.body && !message.hasMedia) {
  console.log('‚è≠Ô∏è –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –ø—É—Å—Ç–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ');
  return;
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –¢–µ–ø–µ—Ä—å –ø—Ä–∏—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å —Ç–µ–∫—Å—Ç–æ–º.

### 2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–∏—è —Ç—Ä–µ–¥–æ–≤ –¥–ª—è –∑–∞—è–≤–æ–∫ —Å —Å–∞–π—Ç–∞

**–ü—Ä–æ–±–ª–µ–º–∞:** Webhook-server —Å–æ–∑–¥–∞–≤–∞–ª –æ—Ç–¥–µ–ª—å–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä ApplicationBot –±–µ–∑ –¥–æ—Å—Ç—É–ø–∞ –∫ –∞–∫—Ç–∏–≤–Ω—ã–º —Ç—Ä–µ–¥–∞–º.

**–†–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –æ–±—â–µ–≥–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –±–æ—Ç–∞:

#### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:
- `shared-bot.js` - –û–±—â–∏–π —ç–∫–∑–µ–º–ø–ª—è—Ä ApplicationBot
- –û–±–Ω–æ–≤–ª–µ–Ω `webhook-server.js` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ–±—â–∏–π —ç–∫–∑–µ–º–ø–ª—è—Ä
- –û–±–Ω–æ–≤–ª–µ–Ω `bot-runner.mjs` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ–±—â–∏–π —ç–∫–∑–µ–º–ø–ª—è—Ä

#### –ö–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:
```javascript
// shared-bot.js
let sharedBotInstance = null;

function getSharedBot() {
    if (!sharedBotInstance) {
        sharedBotInstance = new ApplicationBot(
            TELEGRAM_BOT_TOKEN,
            TELEGRAM_GROUP_CHAT_ID,
            ENABLE_WHATSAPP
        );
    }
    return sharedBotInstance;
}

async function handleApplication(applicationData) {
    const bot = getSharedBot();
    if (bot) {
        await bot.handleNewApplication(applicationData);
        return true;
    }
    return false;
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ó–∞—è–≤–∫–∏ —Å —Å–∞–π—Ç–∞ —Ç–µ–ø–µ—Ä—å —Å–æ–∑–¥–∞—é—Ç –Ω–æ–≤—ã–µ —Ç—Ä–µ–¥—ã –∫–∞–∫ –∏ –¥—Ä—É–≥–∏–µ –∑–∞—è–≤–∫–∏.

### 3. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞—Ä—Ö–∏–≤–∞–º–∏

**–ü—Ä–æ–±–ª–µ–º–∞:** –°–æ–∑–¥–∞–≤–∞–ª–∏—Å—å –Ω–æ–≤—ã–µ –∞—Ä—Ö–∏–≤—ã —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–∫–∞–º–∏, –∑–∞—Å–æ—Ä—è—è –¥–∏—Å–∫.

**–†–µ—à–µ–Ω–∏–µ:** –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—å –æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞:

```typescript
// whatsapp-service.ts
const archiveName = 'whatsapp_auth_latest.tar.gz'; // –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∏–º—è

// –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–π –∞—Ä—Ö–∏–≤, –µ—Å–ª–∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
if (fs.existsSync(archiveName)) {
  fs.unlinkSync(archiveName);
  console.log('üóëÔ∏è –£–¥–∞–ª–µ–Ω —Å—Ç–∞—Ä—ã–π –∞—Ä—Ö–∏–≤ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏');
}

// –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π –∞—Ä—Ö–∏–≤
console.log('üì¶ –û–±–Ω–æ–≤–ª—è–µ–º –∞—Ä—Ö–∏–≤ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –¥–ª—è –ø–µ—Ä–µ–Ω–æ—Å–∞ –Ω–∞ VPS...');
await execAsync(`tar -czf ${archiveName} ${authDir}/`);
```

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ:**
- `cleanup-old-archives.sh` - —Å–∫—Ä–∏–ø—Ç –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ —Å—Ç–∞—Ä—ã—Ö –∞—Ä—Ö–∏–≤–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ –∞—Ä—Ö–∏–≤–∞

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –í—Å–µ–≥–¥–∞ —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –∞–∫—Ç—É–∞–ª—å–Ω—ã–π –∞—Ä—Ö–∏–≤ `whatsapp_auth_latest.tar.gz`.

### 4. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞ VPS

**–ü—Ä–æ–±–ª–µ–º–∞:** VPS –Ω–µ –º–æ–≥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–µ—Å—Å–∏—é –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.

**–†–µ—à–µ–Ω–∏–µ:** –ü–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è:

#### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:
- `auto-restore-auth.sh` - –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
- `setup-auto-restore.sh` - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–∏—Å—Ç–µ–º—ã –Ω–∞ VPS
- `whatsapp-auth-restore.service` - Systemd —Å–µ—Ä–≤–∏—Å
- `SESSION_MANAGEMENT.md` - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

#### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:
1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞** –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–∏—Å—Ç–µ–º—ã
2. **–ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞** –∫–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤ (cron)
3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏** —Å–µ—Å—Å–∏–∏
4. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ** –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö
5. **–†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç—ã

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ VPS:
```bash
sudo ./setup-auto-restore.sh
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** VPS –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–µ—Å—Å–∏—é –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   bot-runner    ‚îÇ    ‚îÇ  webhook-server ‚îÇ
‚îÇ                 ‚îÇ    ‚îÇ                 ‚îÇ
‚îÇ ApplicationBot  ‚îÇ    ‚îÇ ApplicationBot  ‚îÇ ‚Üê –û—Ç–¥–µ–ª—å–Ω—ã–µ —ç–∫–∑–µ–º–ø–ª—è—Ä—ã
‚îÇ (—ç–∫–∑–µ–º–ø–ª—è—Ä 1)   ‚îÇ    ‚îÇ (—ç–∫–∑–µ–º–ø–ª—è—Ä 2)   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ                       ‚îÇ
         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
              –†–∞–∑–Ω—ã–µ —Ç—Ä–µ–¥—ã!
```

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   bot-runner    ‚îÇ    ‚îÇ  webhook-server ‚îÇ
‚îÇ                 ‚îÇ    ‚îÇ                 ‚îÇ
‚îÇ shared-bot.js   ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚î§ shared-bot.js   ‚îÇ ‚Üê –û–±—â–∏–π —ç–∫–∑–µ–º–ø–ª—è—Ä
‚îÇ                 ‚îÇ    ‚îÇ                 ‚îÇ
‚îÇ ApplicationBot  ‚îÇ    ‚îÇ handleApplication‚îÇ
‚îÇ (–æ–±—â–∏–π)         ‚îÇ    ‚îÇ (—Ñ—É–Ω–∫—Ü–∏—è)       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ                       ‚îÇ
         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
              –û–±—â–∏–µ —Ç—Ä–µ–¥—ã!
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 1. –¢–µ—Å—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π
```bash
# –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ WhatsApp
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤ Telegram –ø—Ä–∏—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ
```

### 2. –¢–µ—Å—Ç –∑–∞—è–≤–æ–∫ —Å —Å–∞–π—Ç–∞
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç
node test-website-api.js

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π —Ç—Ä–µ–¥ –≤ Telegram
```

### 3. –¢–µ—Å—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞—Ä—Ö–∏–≤–∞–º–∏
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –∞—Ä—Ö–∏–≤–∞
ls -lh whatsapp_auth_latest.tar.gz

# –û—á–∏—Å—Ç–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –∞—Ä—Ö–∏–≤—ã
./cleanup-old-archives.sh
```

### 4. –¢–µ—Å—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
```bash
# –ù–∞ VPS
sudo systemctl status whatsapp-auth-restore
./auto-restore-auth.sh check
```

## –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –õ–æ–∫–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞
```bash
# –°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥
npm run build

# –û—á–∏—Å—Ç–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –∞—Ä—Ö–∏–≤—ã
./cleanup-old-archives.sh

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞
npm start
```

### VPS —Å–µ—Ä–≤–µ—Ä
```bash
# –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥
git pull origin main
npm run build

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è (–ø–µ—Ä–≤—ã–π —Ä–∞–∑)
sudo ./setup-auto-restore.sh

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã
pm2 restart nord-laundry-bot
pm2 restart webhook-server
```

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ö–ª—é—á–µ–≤—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã

#### WhatsApp —Å–æ–æ–±—â–µ–Ω–∏—è:
- –í –ª–æ–≥–∞—Ö: "–ü—Ä–æ–ø—É—Å–∫–∞–µ–º —Å–ª—É–∂–µ–±–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ"
- –í Telegram: —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ

#### –ó–∞—è–≤–∫–∏ —Å —Å–∞–π—Ç–∞:
- –í –ª–æ–≥–∞—Ö webhook-server: "–ü–æ–ª—É—á–µ–Ω–∞ –∑–∞—è–≤–∫–∞ —Å —Å–∞–π—Ç–∞"
- –í Telegram: —Å–æ–∑–¥–∞—é—Ç—Å—è –Ω–æ–≤—ã–µ —Ç—Ä–µ–¥—ã

#### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞—Ä—Ö–∏–≤–∞–º–∏:
- –í –ª–æ–≥–∞—Ö: "–ê—Ä—Ö–∏–≤ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω"
- –§–∞–π–ª: `whatsapp_auth_latest.tar.gz`

#### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ:
- Systemd: `systemctl status whatsapp-auth-restore`
- –õ–æ–≥–∏: `/var/log/whatsapp-auth-restore.log`

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ï—Å–ª–∏ –≤—Å–µ –µ—â–µ –¥—É–±–ª–∏—Ä—É—é—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏—è:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞ WhatsApp —Å–µ—Ä–≤–∏—Å–∞
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞: `pm2 restart nord-laundry-bot`
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –Ω–∞ —Å–ª—É–∂–µ–±–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è

### –ï—Å–ª–∏ –∑–∞—è–≤–∫–∏ —Å —Å–∞–π—Ç–∞ –Ω–µ —Å–æ–∑–¥–∞—é—Ç —Ç—Ä–µ–¥—ã:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–±—â–µ–≥–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –æ–±–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ webhook-server

### –ï—Å–ª–∏ –∞—Ä—Ö–∏–≤—ã –Ω–µ —Å–æ–∑–¥–∞—é—Ç—Å—è:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –ø–∞–ø–∫–∏ `.wwebjs_auth`
3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –æ—á–∏—Å—Ç–∫—É: `./cleanup-old-archives.sh`

### –ï—Å–ª–∏ VPS –Ω–µ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–µ—Å—Å–∏—é:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞: `sudo systemctl status whatsapp-auth-restore`
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –∞—Ä—Ö–∏–≤–∞
3. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ä—É—á–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ: `./restore-auth-manual.sh`

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å–ª—É–∂–µ–±–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π (–º–µ–Ω—å—à–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏)
- ‚úÖ –û–±—â–∏–π —ç–∫–∑–µ–º–ø–ª—è—Ä –±–æ—Ç–∞ (–º–µ–Ω—å—à–µ –ø–∞–º—è—Ç–∏)
- ‚úÖ –ü–µ—Ä–µ–∑–∞–ø–∏—Å—å –∞—Ä—Ö–∏–≤–æ–≤ (–º–µ–Ω—å—à–µ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ (–º–µ–Ω—å—à–µ —Ä—É—á–Ω–æ–π —Ä–∞–±–æ—Ç—ã)

### –†–µ—Å—É—Ä—Å—ã:
- **–ü–∞–º—è—Ç—å**: –°–Ω–∏–∂–µ–Ω–æ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –∑–∞ —Å—á–µ—Ç –æ–±—â–µ–≥–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞
- **–î–∏—Å–∫**: –°–Ω–∏–∂–µ–Ω–æ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –∑–∞ —Å—á–µ—Ç –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏ –∞—Ä—Ö–∏–≤–æ–≤
- **CPU**: –°–Ω–∏–∂–µ–Ω–∞ –Ω–∞–≥—Ä—É–∑–∫–∞ –∑–∞ —Å—á–µ—Ç —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:
- –ê—Ä—Ö–∏–≤—ã: `644` (—á—Ç–µ–Ω–∏–µ –¥–ª—è –≤—Å–µ—Ö)
- –°–∫—Ä–∏–ø—Ç—ã: `755` (–≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–ª—è –≤—Å–µ—Ö)
- –ü–∞–ø–∫–∞ —Å–µ—Å—Å–∏–∏: `755` (–¥–æ—Å—Ç—É–ø –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–∞)

### –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Å–∏—Å—Ç–µ–º–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–µ–π —Ä–∞–±–æ—á–µ–π –≤–µ—Ä—Å–∏–∏

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–í—Å–µ –≤—ã—è–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —É—Å–ø–µ—à–Ω–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã:

1. ‚úÖ **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π** - —Ä–µ—à–µ–Ω–æ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π —Å–ª—É–∂–µ–±–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
2. ‚úÖ **–ü—Ä–æ–±–ª–µ–º—ã —Å —Ç—Ä–µ–¥–∞–º–∏** - —Ä–µ—à–µ–Ω–æ –æ–±—â–∏–º —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–º –±–æ—Ç–∞
3. ‚úÖ **–ù–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –∞—Ä—Ö–∏–≤—ã** - —Ä–µ—à–µ–Ω–æ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—å—é –æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
4. ‚úÖ **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∫–∏** - —Ä–µ—à–µ–Ω–æ –ø–æ–ª–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è

–°–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ, —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–µ—Å—É—Ä—Å—ã –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö.
